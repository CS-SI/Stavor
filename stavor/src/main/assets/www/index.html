<!doctype html>
<html lang="en">
<head>
	<title>STAVOR</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, height=device-height, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
	<link rel="icon" href="style/icons/launcher.png" />
	<link rel="stylesheet" href="style/css/main.css"/>
	<link rel="stylesheet" href="style/css/dialog.css"/>
	<link rel="stylesheet" href="style/css/toolbar.css"/>
	<link rel="stylesheet" href="style/css/tabs.css"/>
	<link rel="stylesheet" href="style/css/missions.css"/>
	<link rel="stylesheet" href="style/css/stations.css"/>
	<link rel="stylesheet" href="style/css/views.css"/>
	<link rel="stylesheet" href="style/css/viewTypes.css"/>
	<link rel="stylesheet" href="style/css/map.css"/>
	<link rel="stylesheet" href="style/css/leds.css"/>
	<link rel="stylesheet" href="style/css/effects.css"/>
    <link rel="stylesheet" href="style/css/OpenLayers/style.css" type="text/css">
    <link rel="stylesheet" href="style/css/OpenLayers/style.mobile.css" type="text/css">
	
	<!-- IntelXDK -->
	<!--<script src='intelxdk.js'></script>-->
    <!--<script src='xhr.js'></script>--><!-- Same origin policy -->
	
	<!-- HammerJs -->
	<script type="text/javascript" src="js/Gestures/hammer.min.js"></script>
	<!-- jQuery -->
	<!--<link rel="stylesheet" href="js/jQuery/jquery.mobile-1.4.5.min.css"/>-->
	<script type='text/javascript' src="js/jQuery/jquery-2.1.3.min.js"></script>
	<!--<script type='text/javascript' src="js/jQuery/jquery.mobile-1.4.5.min.js"></script>-->
	<script type='text/javascript' src="js/jQuery/Localization/jquery.localize.min.js"></script>
	<script type='text/javascript' src="js/Animations/css-fadeslide-v1.4.0.min.js"></script>
	<!-- Spectrum (color picker) -->
	<script type="text/javascript" src="js/Spectrum/spectrum.js"></script>
	<link rel="stylesheet" href="js/Spectrum/spectrum.css"/>
	<!-- ThreeJS -->
	<script type='text/javascript' src="js/ThreeJS/three.js"></script>
	<script type='text/javascript' src="js/ThreeJS/three.ext.js"></script>	
	<script type='text/javascript' src='js/ThreeJS/extensions/threex.planets.js'></script>
	<script type='text/javascript' src='js/ThreeJS/extensions/threex.atmospherematerial.js'></script>
	<script type='text/javascript' src="js/ThreeJS/extensions/threex.atmospheredatgui.js"></script>
	<script type='text/javascript' src="js/ThreeJS/extras/Detector.js"></script>
	<script type='text/javascript' src="js/ThreeJS/extras/Stats.js"></script>
	<!--<script src="js/OrbitControls.js"></script>-->
	<script type='text/javascript' src="js/ThreeJS/extras/TrackballControls.js"></script>
	<!--<script src="js/THREEx.KeyboardState.js"></script>
	<script src="js/THREEx.FullScreen.js"></script>
	<script src="js/THREEx.WindowResize.js"></script>-->
	<script type='text/javascript' src='js/ThreeJS/extras/DAT.GUI.min.js'></script>
	<script type='text/javascript' src="js/ThreeJS/shaders/ShaderEngine.js"></script><!-- SC engine plasma -->
	<script type='text/javascript' src="js/ThreeJS/shaders/ShaderGlow.js"></script><!-- Sun glow effect -->
	<script type='text/javascript' src="js/ThreeJS/shaders/ShaderSun.js"></script><!-- Sun surface -->
	
	<!-- OpenLayers -->
	<script type='text/javascript' src="js/OpenLayers/OpenLayers.js"></script>
	<!--<script type='text/javascript' src="js/OpenLayers/OpenLayers.mobile.js"></script>-->
	
	<!-- Orekit -->
	<script type='text/javascript' src="modules/simulator/orekit/orekit-data.js"></script>
	<!-- Stavor -->
	<script type='text/javascript' src="modules/simulator/components/KeplerianOrbit.js"></script>
	<script type='text/javascript' src="modules/simulator/components/SimDate.js"></script>
	<script type='text/javascript' src="modules/simulator/components/Mission.js"></script>
	<script type='text/javascript' src="modules/simulator/components/Station.js"></script>
	<script type='text/javascript' src="AndroidInterface.js"></script>
	<script type='text/javascript' src="modules/simulator/Simulator.js"></script>
	<script type='text/javascript' src="js/Stavor/Dialog.js"></script>
	<script type='text/javascript' src="js/Stavor/database.js"></script>
	<script type='text/javascript' src="js/Stavor/missions.js"></script>
	<script type='text/javascript' src="js/Stavor/stations.js"></script>
	<script type='text/javascript' src="js/Stavor/viewTypes.js"></script>
	
	
	<script type='text/javascript' src="js/Stavor/localize.js"></script>
	<script type='text/javascript' src="js/Stavor/Dialog.js"></script>
	<script type='text/javascript' src="js/Stavor/parameters.js"></script>
	<script type='text/javascript' src="js/Stavor/constants.js"></script>
	<script type='text/javascript' src="js/Stavor/enums.js"></script>
	<script type='text/javascript' src="js/Stavor/variables.js"></script>
	<script type='text/javascript' src="js/Stavor/menus.js"></script>
	<script type='text/javascript' src="js/Stavor/gestures.js"></script>
	<!--<script type='text/javascript' src="js/Stavor/stations.js"></script>-->
	
	<script type="text/javascript"><!-- GLOBAL FUNCTIONS -->
		$(document).on('pagebeforecreate', function( e ) {
            $( "input, textarea, select", e.target ).attr( "data-role", "none" );
			$( "input, textarea, select", e.target ).attr( "data-role", "none" );
        });
	
		var global_orbit, global_attitude, global_map, global_simulator;
		var start_time;
		window.onload = function () {
			start_time = new Date().getTime();
			initializeSplashScreen();
			
			loadStoredVariables();
			loadAngleUnitsRads();
			
			global_attitude = new Attitude();//Splash
			global_orbit = new Orbit();//Splash
			global_map = new Map();//Splash
			
			initVisualizations();
			
			updateInfoPanel(true);
			
			initOptionMenus();
			
			initializePanGestures();
			
			initSimulator();
			
			initializeStationsDb();//Splash
			//initializeMissionsDb();//Splash Moved inside initStationsDb at the end
			
			loadOrekitFilesText();
			
			localizeStrings();
		}
		
		function initOptionMenus(){
			initializeGlobalMenu();
			initializeAttitudeMenu();
			initializeOrbitMenu();
			initializeMapMenu();
			setLoadingText("Options preloaded!");
		}
		
		function initSimulator(){
			global_simulator = new Simulator();
			setLoadingText("Simulator ready!");
		}
		
		function initializeSplashScreen(){
			var version_div = document.getElementById("SplashVersion");
			version_div.innerHTML = "v"+parameters.version;
		}
		
		
		
		function loadAngleUnitsRads(){
			var serialized = localStorage.getItem('angleUnitsRads'); 
			if(serialized){
				global_angle_in_rads = JSON.parse(serialized);
			}else{
				setAngleUnitsRads(false);
				loadAngleUnitsRads();
			}
		}
		
		function setAngleUnitsRads(bool){
			var dataToStore = JSON.stringify(bool);
			localStorage.setItem('angleUnitsRads', dataToStore);
			global_angle_in_rads = bool;
			if(global_menus.orbit.isOpen){
				updateOrbitOptions();
			}
			if(global_menus.mission.isOpen){
				reopenMissionEditor();
			}
			if(global_menus.station.isOpen){
				reopenStationEditor();
			}
		}
		
		function loadStoredVariables(){
			var serialized = localStorage.getItem('simulationConfig'); 
			if(serialized){
				var localData = JSON.parse(serialized);
				global_simulation.config = localData;
				setPerformanceLevel();
				setLoadingText("Configuration loaded!");
			}
		}
		function saveStoredVariables(){
			var dataToStore = JSON.stringify(global_simulation.config);
			localStorage.setItem('simulationConfig', dataToStore);
		}
		
		function resetStoredVariables(){
			localStorage.removeItem('simulationConfig'); 
			localStorage.removeItem('missionsConfig');
			localStorage.removeItem('angleUnitsRads');
			window.location.reload();
		}
		
		function resetConfiguration(){
			Dialog.showConfirmDialog("str_dialog_reset_config_title","str_dialog_reset_config_message",function(){
				resetStoredVariables();
			},function(){});
		}
		
		function error(text){
			alert(text);
		}
		function pushSimulationState(state){
			global_simulation.results = state;
		}
		
		//SplashScreen
		function hideSplash(){
			if(
				global_delayed_loading.visualization.slider &&
				global_delayed_loading.visualization.attitude &&
				global_delayed_loading.visualization.orbit &&
				global_delayed_loading.visualization.map &&
				global_delayed_loading.database.missions &&
				global_delayed_loading.database.stations &&
				!global_delayed_loading.splashIsHidden
				){
				setLoadingText("Stavor loaded!");
				global_delayed_loading.splashIsHidden = true;
				var current_time = new Date().getTime();
				var elapsed = current_time - start_time;
				var delay = parameters.splash_min_time - elapsed;
				if( delay < 0 ){
					delay = 0;
				}			
				setTimeout(function() { 
					var div_splash = document.getElementById("Splash");
					div_splash.style.visibility = "hidden";
					div_splash.style.opacity = "0";
					switchMissionsListStatus();
				}, delay);
			}else{
				//Wait for loading
				/*if(!global_delayed_loading.visualization.attitude){
					setLoadingText("Init Attitude module...");
				}else if(!global_delayed_loading.visualization.orbit){
					setLoadingText("Init Orbit module...");
				}else if(!global_delayed_loading.visualization.map){
					setLoadingText("Init Map module...");
				}else if(!global_delayed_loading.database.missions){
					setLoadingText("Loading Missions db...");
				}else if(!global_delayed_loading.database.stations){
					setLoadingText("Loading Stations db...");
				}*/
			}
		}
		function setLoadingText(text){
			var div = document.getElementById("SplashLoading");
			div.innerHTML = text;
		}
		
		function initVisualizations(){
			global_current_visualization = enum_visualizations.ATTITUDE;
			updateLeds();
			
			//var div_orbit = document.getElementById("DivOrbit");
			//var div_map = document.getElementById("DivMap");
			//div_orbit.className = "VisToRight";
			//div_map.className = "VisToLeft";
			window.addEventListener( 'resize', function(){
				global_attitude.resizeCanvas();
				global_orbit.resizeCanvas();
				global_map.resizeCanvas();
			}, false );
			window.addEventListener( 'orientationchange', function(){
				global_attitude.resizeCanvas();
				global_orbit.resizeCanvas();
				global_map.resizeCanvas();
			}, false );
			
			var div_attitude = document.getElementById("DivAttitude");
			var div_orbit = document.getElementById("DivOrbit");
			var div_map = document.getElementById("DivMap");
			div_attitude.className = "NextVisToCenterFromRight";
			div_orbit.className = "NextVisToRight";
			div_map.className = "NextVisToLeft";
			
			global_delayed_loading.visualization.slider = true;
			setLoadingText("Slider initialized!");
			hideSplash();
		}
		
		/*function resizeAllVisualizations(){
			var readyStateCheckInterval = setInterval(function() {
				if (document.readyState === "complete") {
					clearInterval(readyStateCheckInterval);
					global_attitude.resizeCanvas();
					global_orbit.resizeCanvas();
					global_map.resizeCanvas();
				}
			}, 10);
				
		}*/
		
		function updateLeds(){
			var led_attitude = document.getElementById("LedAttitude");
			var led_orbit = document.getElementById("LedOrbit");
			var led_map = document.getElementById("LedMap");
			
			if(global_current_visualization == enum_visualizations.ATTITUDE){
				led_attitude.className = "Led LedSelected";
				led_orbit.className = "Led LedUnselected";
				led_map.className = "Led LedUnselected";
			}else if(global_current_visualization == enum_visualizations.ORBIT){
				led_attitude.className = "Led LedUnselected";
				led_orbit.className = "Led LedSelected";
				led_map.className = "Led LedUnselected";
			}else if(global_current_visualization == enum_visualizations.MAP){
				led_attitude.className = "Led LedUnselected";
				led_orbit.className = "Led LedUnselected";
				led_map.className = "Led LedSelected";
			}else{
				error("ERROR: updateLeds(): the current visualization enum is not recognized.");
			}
		}
		function prevVisualization(){
			var div_attitude = document.getElementById("DivAttitude");
			var div_orbit = document.getElementById("DivOrbit");
			var div_map = document.getElementById("DivMap");
			
			var new_vis = enum_visualizations.ATTITUDE;
			if(global_current_visualization == enum_visualizations.ATTITUDE){
				
				div_attitude.className = "PrevVisToRight";
				div_orbit.className = "PrevVisToLeft";
				div_map.className = "PrevVisToCenterFromLeft";
				
				new_vis = enum_visualizations.MAP;
			}else if(global_current_visualization == enum_visualizations.ORBIT){
				
				div_attitude.className = "PrevVisToCenterFromLeft";
				div_orbit.className = "PrevVisToRight";
				div_map.className = "PrevVisToLeft";
				
				new_vis = enum_visualizations.ATTITUDE;
			}else if(global_current_visualization == enum_visualizations.MAP){
				
				div_attitude.className = "PrevVisToLeft";
				div_orbit.className = "PrevVisToCenterFromLeft";
				div_map.className = "PrevVisToRight";
				
				new_vis = enum_visualizations.ORBIT;
			}else{
				error("ERROR: prevVisualization(): the current visualization enum is not recognized.");
			}
			global_current_visualization = new_vis;
			global_simulator.setCurrentVisualization();
			updateLeds();
		}
		function nextVisualization(){
			var div_attitude = document.getElementById("DivAttitude");
			var div_orbit = document.getElementById("DivOrbit");
			var div_map = document.getElementById("DivMap");
			
			var new_vis = enum_visualizations.ATTITUDE;
			if(global_current_visualization == enum_visualizations.ATTITUDE){
				/*div_attitude.style.visibility = "visible";
				div_orbit.style.visibility = "visible";
				div_map.style.visibility = "hidden";
				div_attitude.style.zIndex = "1";
				div_orbit.style.zIndex = "1";
				div_map.style.zIndex = "-1";*/
				
				div_attitude.className = "NextVisToLeft";
				div_orbit.className = "NextVisToCenterFromRight";
				div_map.className = "NextVisToRight";
				
				new_vis = enum_visualizations.ORBIT;
			}else if(global_current_visualization == enum_visualizations.ORBIT){
				/*div_attitude.style.visibility = "hidden";
				div_orbit.style.visibility = "visible";
				div_map.style.visibility = "visible";
				div_attitude.style.zIndex = "-1";
				div_orbit.style.zIndex = "1";
				div_map.style.zIndex = "1";*/
				
				div_attitude.className = "NextVisToRight";
				div_orbit.className = "NextVisToLeft";
				div_map.className = "NextVisToCenterFromRight";
				
				new_vis = enum_visualizations.MAP;
			}else if(global_current_visualization == enum_visualizations.MAP){
				/*div_attitude.style.visibility = "visible";
				div_orbit.style.visibility = "hidden";
				div_map.style.visibility = "visible";
				div_attitude.style.zIndex = "1";
				div_orbit.style.zIndex = "-1";
				div_map.style.zIndex = "1";*/
				
				div_attitude.className = "NextVisToCenterFromRight";
				div_orbit.className = "NextVisToRight";
				div_map.className = "NextVisToLeft";
				
				new_vis = enum_visualizations.ATTITUDE;
			}else{
				error("ERROR: nextVisualization(): the current visualization enum is not recognized.");
			}
			global_current_visualization = new_vis;
			global_simulator.setCurrentVisualization();
			updateLeds();
		}
		function switchMissionsListStatus(){
			if(global_missions_list_is_open){
				document.getElementById("DivMissions").className = "close";
				document.getElementById("MissionsListButton").className = "effectShake";
				document.getElementById("SelectMissionButton").className = "";
			}else{
				document.getElementById("DivMissions").className = "open";
				document.getElementById("MissionsListButton").className = "";
				document.getElementById("SelectMissionButton").className = "effectShakeSelect";
			}
			global_missions_list_is_open = !global_missions_list_is_open;
		}
		
		function switchInfoPanel(){
			var div_info_panel = document.getElementById("DivInfoPanel");
			var div_info_panel1 = document.getElementById("DivInfoPanel1");
			var div_info_panel2 = document.getElementById("DivInfoPanel2");
			if(global_menus.info_panel.isOpen){
				div_info_panel.className = "InfoPanelClosed";
				div_info_panel1.className = "InfoPanelInvisible";
				div_info_panel2.className = "InfoPanelInvisible";
			}else{
				div_info_panel.className = "InfoPanelOpened";
				div_info_panel1.className = "InfoPanelVisible";
				div_info_panel2.className = "InfoPanelVisible";
			}
			global_menus.info_panel.isOpen = !global_menus.info_panel.isOpen;
		}
		
		function switchGlobalMenu(){
			//var div_global_menu = document.getElementById("DivConfig");
			if(global_menus.global.isOpen){
				$( "#DivConfigBackground" ).fadeOut( "fast", function() {
					// Animation complete.
				  });
				//div_global_menu.className = "DivConfigClosed";
			}else{
				$( "#DivConfigBackground" ).fadeIn( "fast", function() {
					// Animation complete.
				  });
				//div_global_menu.className = "DivConfigOpened";
			}
			global_menus.global.isOpen = !global_menus.global.isOpen;
		}
		
		function setAttitudeReloaded(){
			var div = document.getElementById("AttitudeMenuLoading");
			div.style.display = "none";
		}
		function setOrbitReloaded(){
			var div = document.getElementById("OrbitMenuLoading");
			div.style.display = "none";
		}
		function setMapReloaded(){
			var div = document.getElementById("MapMenuLoading");
			div.style.display = "none";
		}
		function setAttitudeReloading(){
			var div = document.getElementById("AttitudeMenuLoading");
			div.style.display = "block";
		}
		function setOrbitReloading(){
			var div = document.getElementById("OrbitMenuLoading");
			div.style.display = "block";
		}
		function setMapReloading(){
			var div = document.getElementById("MapMenuLoading");
			div.style.display = "block";
		}
		
	</script>
</head>
<body>

<div id="Splash">
	<div id="SplashVersion" ></div>
	<div id="SplashLoading">Starting Stavor...</div>
</div>

<div id="DivMap" >
	<div id="map" ></div>
	<div id="MaptabContainer" class="tabContainer">
		<div id="MapMenuLoading" class="ViewMenuLoading"></div>
		<div id="Maptabs" class="tabs">
		  <ul>
			<li data-localize="menu_map_coverage_header" id="MaptabHeader_1">Coverage</li>
			<li data-localize="menu_map_stations_header" id="MaptabHeader_2">Stations</li>
			<li data-localize="menu_map_models_header" id="MaptabHeader_3">Models</li>
		  </ul>
		</div>
		<div id="Maptabscontent" class="tabscontent">
		  <div class="tabpage" id="Maptabpage_1">
			<h4 data-localize="menu_map_coverage_sensor_title">Sensor/Antenna</h4>
			<p><span data-localize="menu_map_models_show_fov_field">Show FOV:</span><input id="opt-map-ShowFov" type="checkbox" style="float: right;" onchange="updateMapOption(this.id,this.checked)"/></p>
			<p><span data-localize="menu_map_coverage_aperture_field">Aperture angle [Deg]:</span><input id="opt-map-ApertureAngle" type="number" style="float: right;" onchange="updateMapOption(this.id,this.value)"class="MenuField"/></p>
			<h5 data-localize="menu_map_coverage_direction_title">Direction</h5>
			<p><span data-localize="menu_map_coverage_direction_x_field">X:</span><input id="opt-map-DirectionX" type="number" style="float: right;" onchange="updateMapOption(this.id,this.value)"class="MenuField"/></p>
			<p><span data-localize="menu_map_coverage_direction_y_field">Y:</span><input id="opt-map-DirectionY" type="number" style="float: right;" onchange="updateMapOption(this.id,this.value)"class="MenuField"/></p>
			<p><span data-localize="menu_map_coverage_direction_z_field">Z:</span><input id="opt-map-DirectionZ" type="number" style="float: right;" onchange="updateMapOption(this.id,this.value)"class="MenuField"/></p>
		  </div>
		  <div class="tabpage" id="Maptabpage_2">
			<h4 data-localize="menu_map_stations_ground_title" style="display: none;">Ground stations</h4>
			<div id="StationsMenu">
				<div class="StationsMenuItem"><input id="CreateStationButton" class="StationsMenuButton" type="image" src="style/icons/new.png" title="Create Station" onclick="openStationEditor(-1)"/></div>
				<div class="StationsMenuItem"><input id="EditStationButton" class="StationsMenuButton" type="image" src="style/icons/edit.png" title="Edit Station" onclick="openStationEditor(global_stations.active)"/></div>
				<div class="StationsMenuItem"><input id="RemoveStationButton" class="StationsMenuButton" type="image" src="style/icons/delete.png" title="Remove Station" onclick="onDeleteStationButtonClicked()"/></div>
			</div>
			<div id="DivStations">	
				<div id="ListStations">
					<ol id="olListStations">
					  <li id="0" class="StationNormal" onclick="onStationClicked(this.id)">Coffee</li>
					</ol>
				</div>
			</div>
		  </div>
		  <div class="tabpage" id="Maptabpage_3">
			<h4 data-localize="menu_map_models_satellite_title">Satellite</h4>
			<p><span data-localize="menu_map_models_show_track_field">Show ground track:</span><input id="opt-map-ShowTrack" type="checkbox" style="float: right;" onchange="updateMapOption(this.id,this.checked)"/></p>
			<h4 data-localize="menu_map_models_sun_title">Sun</h4>
			<p><span data-localize="menu_map_models_show_sun_icon_field">Show icon:</span><input id="opt-map-ShowSunIcon" type="checkbox" style="float: right;" onchange="updateMapOption(this.id,this.checked)"/></p>
			<p><span data-localize="menu_map_models_show_sun_terminator_field">Show terminator:</span><input id="opt-map-ShowSunTerminator" type="checkbox" style="float: right;" onchange="updateMapOption(this.id,this.checked)"/></p>
		  </div>
		</div>
	</div>
	<div id="MenuButtonMap" class="MenuButton" onclick="switchMapMenu()" ></div>
	<div id="ViewButtonMap" class="ViewButtonUnlocked" onclick="switchMapViewTypeMenu()" ></div>
	<div id="PathButtonMap" class="PathButton" onclick="global_simulator.clearDataLogs()" ></div>
</div>
<div id="DivOrbit" >
	<div id="orbit" ></div>
	<div id="OrbittabContainer" class="tabContainer">
		<div id="OrbitMenuLoading" class="ViewMenuLoading"></div>
		<div id="Orbittabs" class="tabs">
		  <ul>
			<li data-localize="menu_orb_models_header" id="OrbittabHeader_1">Models</li>
			<li data-localize="menu_orb_ref_orbit_header" id="OrbittabHeader_2">Ref. Orbit</li>
		  </ul>
		</div>
		<div id="Orbittabscontent" class="tabscontent">
		  <div class="tabpage" id="Orbittabpage_1">
			<h4 data-localize="menu_orb_models_general_title">General</h4>
			<p><span data-localize="menu_orb_models_show_sky_field">Show sky:</span><input id="opt-orb-ShowSky" type="checkbox" style="float: right;" onchange="updateOrbitOption(this.id,this.checked)"/></p>
			<p><span data-localize="menu_orb_models_show_axis_field">Show axis:</span><input id="opt-orb-ShowAxis" type="checkbox" style="float: right;" onchange="updateOrbitOption(this.id,this.checked)"/></p>
			<p><span data-localize="menu_orb_models_show_axis_labels_field">Show axis labels:</span><input id="opt-orb-ShowAxisLabels" type="checkbox" style="float: right;" onchange="updateOrbitOption(this.id,this.checked)"/></p>
			<h4 data-localize="menu_orb_models_earth_title">Earth</h4>
			<p><span data-localize="menu_orb_models_show_earth_model_field">Show Earth model:</span><input id="opt-orb-ShowEarthModel" type="checkbox" style="float: right;" onchange="updateOrbitOption(this.id,this.checked)"/></p>
			<p>&bull;<span data-localize="menu_orb_models_show_earth_axis_field">Show Earth axis:</span><input id="opt-orb-ShowEarthAxis" type="checkbox" style="float: right;" onchange="updateOrbitOption(this.id,this.checked)"/></p>
			<p>&bull;<span data-localize="menu_orb_models_show_earth_atmosphere_field">Show Earth atmosphere:</span><input id="opt-orb-ShowEarthAtmosphere" type="checkbox" style="float: right;" onchange="updateOrbitOption(this.id,this.checked)"/></p>
			<p>&bull;<span data-localize="menu_orb_models_show_earth_clouds_field">Show Earth clouds:</span><input id="opt-orb-ShowEarthClouds" type="checkbox" style="float: right;" onchange="updateOrbitOption(this.id,this.checked)"/></p>
			<h4 data-localize="menu_orb_models_reference_title">Reference</h4>
			<p><span data-localize="menu_orb_models_show_xy_plane_field">Show XY plane:</span><input id="opt-orb-ShowXyPlane" type="checkbox" style="float: right;" onchange="updateOrbitOption(this.id,this.checked)"/></p>
			<p><span data-localize="menu_orb_models_xy_plane_color_field">Color:</span><input id="opt-orb-PlaneXyColor" type="color" class="MenuColorField" style="float: right;" onchange="updateOrbitOption(this.id,this.value)"/></p>
			<h4 data-localize="menu_orb_models_spacecraft_title">Spacecraft</h4>
			<p><span data-localize="menu_orb_models_show_spacecraft_field">Show spacecraft:</span><input id="opt-orb-ShowSpacecraft" type="checkbox" style="float: right;" onchange="updateOrbitOption(this.id,this.checked)"/></p>
			<p><span data-localize="menu_orb_models_spacecraft_color_field">Color:</span><input id="opt-orb-SpacecraftColor" type="color" class="MenuColorField" style="float: right;" onchange="updateOrbitOption(this.id,this.value)"/></p>
			<h4 data-localize="menu_orb_models_orbit_title">Orbit</h4>
			<p><span data-localize="menu_orb_models_show_projection_field">Show projection:</span><input id="opt-orb-ShowProjection" type="checkbox" style="float: right;" onchange="updateOrbitOption(this.id,this.checked)"/></p>
			<p><span data-localize="menu_orb_models_orbit_color_field">Color:</span><input id="opt-orb-OrbitColor" type="color" class="MenuColorField" style="float: right;" onchange="updateOrbitOption(this.id,this.value)"/></p>
		  </div>
		  <div class="tabpage" id="Orbittabpage_2">
			<p><span data-localize="menu_orb_ref_orbit_show_orbit_field">Show orbit:</span><input id="opt-orb-ShowRefOrbit" type="checkbox" style="float: right;" onchange="updateOrbitOption(this.id,this.checked)"/></p>
			<p><span data-localize="menu_orb_ref_orbit_orbit_color_field">Color:</span><input id="opt-orb-RefOrbitColor" type="color" class="MenuColorField" style="float: right;" onchange="updateOrbitOption(this.id,this.value)"/></p>
			<h4 data-localize="menu_orb_ref_orbit_orbit_title">Orbit</h4>
			<p><span data-localize="menu_orb_ref_orbit_orbit_a_field">Semi-major axis (m):</span><input id="opt-orb-RefOrbit-a" type="number" min="0" step="any" style="float: right;" onchange="updateOrbitOption(this.id,this.value)" class="MenuField"/></p>
			<p><span data-localize="menu_orb_ref_orbit_orbit_e_field">Eccentricity:</span><input id="opt-orb-RefOrbit-e" type="number" min="0" step="any" style="float: right;" onchange="updateOrbitOption(this.id,this.value)" class="MenuField"/></p>
			<p><span data-localize="menu_orb_ref_orbit_orbit_i_field" id="RefOrbit-Inclination">Inclination (rad):</span><input id="opt-orb-RefOrbit-i" type="number" step="any" style="float: right;" onchange="updateOrbitOption(this.id,this.value)" class="MenuField"/></p>
			<p><span data-localize="menu_orb_ref_orbit_orbit_omega_field" id="RefOrbit-Omega">Arg. Perigee (rad):</span><input id="opt-orb-RefOrbit-omega" type="number" step="any" style="float: right;" onchange="updateOrbitOption(this.id,this.value)" class="MenuField"/></p>
			<p><span data-localize="menu_orb_ref_orbit_orbit_raan_field" id="RefOrbit-Raan">RAAN (rad):</span><input id="opt-orb-RefOrbit-raan" type="number" step="any" style="float: right;" onchange="updateOrbitOption(this.id,this.value)" class="MenuField"/></p>
			<div id="AngleUnitsSelectionRadsRefOrbit" class="AngleUnitsSelected" onclick="setAngleUnitsRads(true)">Rads</div><div id="AngleUnitsSelectionDegsRefOrbit" class="AngleUnitsUnselected" onclick="setAngleUnitsRads(false)">Degs</div>
		  </div>
		</div>
	</div>
	<div id="MenuButtonOrbit" class="MenuButton" onclick="switchOrbitMenu()" ></div>
	<div id="ViewButtonOrbit" class="ViewButtonUnlocked" onclick="switchOrbitViewTypeMenu()" ></div>
</div>
<div id="DivAttitude" >
	<div id="attitude" ></div>
	<div id="AttitudetabContainer" class="tabContainer">
		<div id="AttitudeMenuLoading" class="ViewMenuLoading"></div>
		<div id="Attitudetabs" class="tabs">
		  <ul>
			<li data-localize="menu_att_indicators_header" id="AttitudetabHeader_1">Indicators</li>
			<li data-localize="menu_att_measures_header" id="AttitudetabHeader_2">Measures</li>
			<li data-localize="menu_att_models_header" id="AttitudetabHeader_3">Models</li>
		  </ul>
		</div>
		<div id="Attitudetabscontent" class="tabscontent">
		  <div class="tabpage" id="Attitudetabpage_1">
			<h4 data-localize="menu_att_indicators_basic_title" style="display: none;">Basic</h4>
			<h5 data-localize="menu_att_indicators_velocity_title">Velocity</h5>
			<p><span data-localize="menu_att_indicators_show_velocity_field">Show velocity:</span><input id="opt-att-ShowVelocity" type="checkbox" style="float: right;" onchange="updateAttitudeOption(this.id,this.checked)"/></p>
			<p><span data-localize="menu_att_indicators_limit_velocity_field">Limit (Km/s):</span><input id="opt-att-LimitVelocity" type="number" style="float: right;" onchange="updateAttitudeOption(this.id,this.value)"class="MenuField"/></p>
			<p><span data-localize="menu_att_indicators_color_velocity_field">Color:</span><input id="opt-att-VelocityColor" type="color" class="MenuColorField" style="float: right;" onchange="updateAttitudeOption(this.id,this.value)"/></p>
			<h5 data-localize="menu_att_indicators_acceleration_title">Acceleration</h5>
			<p><span data-localize="menu_att_indicators_show_acceleration_field">Show acceleration:</span><input id="opt-att-ShowAcceleration" type="checkbox" style="float: right;" onchange="updateAttitudeOption(this.id,this.checked)"/></p>
			<p><span data-localize="menu_att_indicators_limit_acceleration_field">Limit (Km/s2):</span><input id="opt-att-LimitAcceleration" type="number" style="float: right;" onchange="updateAttitudeOption(this.id,this.value)"class="MenuField"/></p>
			<p><span data-localize="menu_att_indicators_color_acceleration_field">Color:</span><input id="opt-att-AccelerationColor" type="color" class="MenuColorField" style="float: right;" onchange="updateAttitudeOption(this.id,this.value)"/></p>
			<h5 data-localize="menu_att_indicators_momentum_title">Momentum</h5>
			<p><span data-localize="menu_att_indicators_show_momentum_field">Show momentum:</span><input id="opt-att-ShowMomentum" type="checkbox" style="float: right;" onchange="updateAttitudeOption(this.id,this.checked)"/></p>
			<p><span data-localize="menu_att_indicators_color_momentum_field">Color:</span><input id="opt-att-MomentumColor" type="color" class="MenuColorField" style="float: right;" onchange="updateAttitudeOption(this.id,this.value)"/></p>
			<h4 data-localize="menu_att_indicators_extra_title">Extra</h4>
			<h5 data-localize="menu_att_indicators_target_title">Target</h5>
			<p><span data-localize="menu_att_indicators_show_target_field">Show target:</span><input id="opt-att-ShowTarget" type="checkbox" style="float: right;" onchange="updateAttitudeOption(this.id,this.checked)"/></p>
			<p><span data-localize="menu_att_indicators_target_x_field">X:</span><input id="opt-att-TargetValueX" type="number" style="float: right;" onchange="updateAttitudeOption(this.id,this.value)"class="MenuField"/></p>
			<p><span data-localize="menu_att_indicators_target_y_field">Y:</span><input id="opt-att-TargetValueY" type="number" style="float: right;" onchange="updateAttitudeOption(this.id,this.value)"class="MenuField"/></p>
			<p><span data-localize="menu_att_indicators_target_z_field">Z:</span><input id="opt-att-TargetValueZ" type="number" style="float: right;" onchange="updateAttitudeOption(this.id,this.value)"class="MenuField"/></p>
			<p><span data-localize="menu_att_indicators_color_target_field">Color:</span><input id="opt-att-TargetColor" type="color" class="MenuColorField" style="float: right;" onchange="updateAttitudeOption(this.id,this.value)"/></p>
			<h5 data-localize="menu_att_indicators_vector_title">Vector</h5>
			<p><span data-localize="menu_att_indicators_show_vector_field">Show vector:</span><input id="opt-att-ShowVector" type="checkbox" style="float: right;" onchange="updateAttitudeOption(this.id,this.checked)"/></p>
			<p><span data-localize="menu_att_indicators_vector_limit_field">Limit:</span><input id="opt-att-LimitVector" type="number" style="float: right;" onchange="updateAttitudeOption(this.id,this.value)"class="MenuField"/></p>
			<p><span data-localize="menu_att_indicators_vector_x_field">X:</span><input id="opt-att-VectorValueX" type="number" style="float: right;" onchange="updateAttitudeOption(this.id,this.value)"class="MenuField"/></p>
			<p><span data-localize="menu_att_indicators_vector_y_field">Y:</span><input id="opt-att-VectorValueY" type="number" style="float: right;" onchange="updateAttitudeOption(this.id,this.value)"class="MenuField"/></p>
			<p><span data-localize="menu_att_indicators_vector_z_field">Z:</span><input id="opt-att-VectorValueZ" type="number" style="float: right;" onchange="updateAttitudeOption(this.id,this.value)"class="MenuField"/></p>
			<p><span data-localize="menu_att_indicators_color_vector_field">Color:</span><input id="opt-att-VectorColor" type="color" class="MenuColorField" style="float: right;" onchange="updateAttitudeOption(this.id,this.value)"/></p>
			<h5 data-localize="menu_att_indicators_direction_title">Direction</h5>
			<p><span data-localize="menu_att_indicators_show_direction_field">Show direction:</span><input id="opt-att-ShowDirection" type="checkbox" style="float: right;" onchange="updateAttitudeOption(this.id,this.checked)"/></p>
			<p><span data-localize="menu_att_indicators_direction_x_field">X:</span><input id="opt-att-DirectionValueX" type="number" style="float: right;" onchange="updateAttitudeOption(this.id,this.value)"class="MenuField"/></p>
			<p><span data-localize="menu_att_indicators_direction_y_field">Y:</span><input id="opt-att-DirectionValueY" type="number" style="float: right;" onchange="updateAttitudeOption(this.id,this.value)"class="MenuField"/></p>
			<p><span data-localize="menu_att_indicators_direction_z_field">Z:</span><input id="opt-att-DirectionValueZ" type="number" style="float: right;" onchange="updateAttitudeOption(this.id,this.value)"class="MenuField"/></p>
			<p><span data-localize="menu_att_indicators_color_direction_field">Color:</span><input id="opt-att-DirectionColor" type="color" class="MenuColorField" style="float: right;" onchange="updateAttitudeOption(this.id,this.value)"/></p>
		  </div>
		  <div class="tabpage" id="Attitudetabpage_2">
			<h4 data-localize="menu_att_measures_inclination_title">Inclination</h4>
			<p><span data-localize="menu_att_measures_show_planes_field">Show planes:</span><input id="opt-att-ShowOrbitalPlane" type="checkbox" style="float: right;" onchange="updateAttitudeOption(this.id,this.checked)"/></p>
			<p>&bull;<span data-localize="menu_att_measures_show_inclination_field">Show inclination:</span><input id="opt-att-ShowInclination" type="checkbox" style="float: right;" onchange="updateAttitudeOption(this.id,this.checked)"/></p>
			<!--<p>Show Earth rotation plane:<input id="opt-att-ShowEarthPlane" type="checkbox" style="float: right;" onchange="updateAttitudeOption(this.id,this.checked)"/></p>-->
			<p><span data-localize="menu_att_measures_rot_plane_color_field">Rotation plane color:</span><input id="opt-att-RotationPlaneColor" type="color" class="MenuColorField" style="float: right;" onchange="updateAttitudeOption(this.id,this.value)"/></p><br>
			<p><span data-localize="menu_att_measures_orb_plane_color_field">Orbital plane color:</span><input id="opt-att-OrbitalPlaneColor" type="color" class="MenuColorField" style="float: right;" onchange="updateAttitudeOption(this.id,this.value)"/></p>
			<h4 data-localize="menu_att_measures_spheric_title">Spheric coordinates</h4>
			<p><span data-localize="menu_att_measures_show_spheric_field">Show spheric coordinates:</span><input id="opt-att-ShowSphericCoordinates" type="checkbox" style="float: right;" onchange="updateAttitudeOption(this.id,this.checked)"/></p>
			<select id="opt-att-SphericCoordsSelection" onchange="updateAttitudeOption(this.id,this.value)"class="MenuField">
				<option value="0" data-localize="menu_att_measures_value_velocity">Velocity</option>
				<option value="1" data-localize="menu_att_measures_value_acceleration">Acceleration</option>
				<option value="2" data-localize="menu_att_measures_value_momentum">Momentum</option>
				<option value="3" data-localize="menu_att_measures_value_earth">Earth</option>
				<option value="4" data-localize="menu_att_measures_value_sun">Sun</option>
			</select>
			<h4 data-localize="menu_att_measures_angles_title">Angles</h4>
			<p><span data-localize="menu_att_measures_show_angles_field">Show vectors angle:</span><input id="opt-att-ShowVectorsAngle" type="checkbox" style="float: right;" onchange="updateAttitudeOption(this.id,this.checked)"/></p>
			<select id="opt-att-AnglesSelection1" onchange="updateAttitudeOption(this.id,this.value)"class="MenuField">
				<option value="0" data-localize="menu_att_measures_value_velocity">Velocity</option>
				<option value="1" data-localize="menu_att_measures_value_acceleration">Acceleration</option>
				<option value="2" data-localize="menu_att_measures_value_momentum">Momentum</option>
				<option value="3" data-localize="menu_att_measures_value_earth">Earth</option>
				<option value="4" data-localize="menu_att_measures_value_sun">Sun</option>
			</select>
			<select id="opt-att-AnglesSelection2" onchange="updateAttitudeOption(this.id,this.value)"class="MenuField">
				<option value="0" data-localize="menu_att_measures_value_velocity">Velocity</option>
				<option value="1" data-localize="menu_att_measures_value_acceleration">Acceleration</option>
				<option value="2" data-localize="menu_att_measures_value_momentum">Momentum</option>
				<option value="3" data-localize="menu_att_measures_value_earth">Earth</option>
				<option value="4" data-localize="menu_att_measures_value_sun">Sun</option>
			</select>
		  </div>
		  <div class="tabpage" id="Attitudetabpage_3">
			<h4 data-localize="menu_att_models_general_title">General</h4>
			<p><span data-localize="menu_att_models_show_sky_field">Show sky:</span><input id="opt-att-ShowSky" type="checkbox" style="float: right;" onchange="updateAttitudeOption(this.id,this.checked)"/></p>
			<p><span data-localize="menu_att_models_show_axis_field">Show axis:</span><input id="opt-att-ShowAxis" type="checkbox" style="float: right;" onchange="updateAttitudeOption(this.id,this.checked)"/></p>
			<p><span data-localize="menu_att_models_show_axis_labels_field">Show axis labels:</span><input id="opt-att-ShowAxisLabels" type="checkbox" style="float: right;" onchange="updateAttitudeOption(this.id,this.checked)"/></p>
			<h4 data-localize="menu_att_models_reference_title">Reference</h4>
			<p><span data-localize="menu_att_models_show_ref_sphere_field">Show ref. sphere:</span><input id="opt-att-ShowSphere" type="checkbox" style="float: right;" onchange="updateAttitudeOption(this.id,this.checked)"/></p>
			<p><span data-localize="menu_att_models_show_mini_spheres_field">Show mini spheres:</span><input id="opt-att-ShowMiniSpheres" type="checkbox" style="float: right;" onchange="updateAttitudeOption(this.id,this.checked)"/></p>
			<p><span data-localize="menu_att_models_show_circles_field">Show circles:</span><input id="opt-att-ShowCircles" type="checkbox" style="float: right;" onchange="updateAttitudeOption(this.id,this.checked)"/></p>
			<h4 data-localize="menu_att_models_spacecraft_title">Spacecraft</h4>
			<p><span data-localize="menu_att_models_show_sc_axis_field">Show spacecraft axis:</span><input id="opt-att-ShowScAxis" type="checkbox" style="float: right;" onchange="updateAttitudeOption(this.id,this.checked)"/></p>
			<p><span data-localize="menu_att_models_show_engine_field">Show engine texture:</span><input id="opt-att-ShowEngineTexture" type="checkbox" style="float: right;" onchange="updateAttitudeOption(this.id,this.checked)"/></p>
			<h4 data-localize="menu_att_models_sun_title">Sun</h4>
			<p><span data-localize="menu_att_models_sun_show_model_field">Show model:</span><input id="opt-att-ShowSunModel" type="checkbox" style="float: right;" onchange="updateAttitudeOption(this.id,this.checked)"/></p>
			<p>&bull;<span data-localize="menu_att_models_sun_show_surface_field">Show surface:</span><input id="opt-att-ShowSunSurface" type="checkbox" style="float: right;" onchange="updateAttitudeOption(this.id,this.checked)"/></p>
			<p>&bull;<span data-localize="menu_att_models_sun_rotates_field">Sun rotates:</span><input id="opt-att-SunRotates" type="checkbox" style="float: right;" onchange="updateAttitudeOption(this.id,this.checked)"/></p>
			<p><span data-localize="menu_att_models_sun_rotation_field">Rotation speed [0-9]:</span><input id="opt-att-SunRotationSpeed" type="number" min="0" max="9" step="1" style="float: right;" onchange="updateAttitudeOption(this.id,this.value)" class="MenuField"/></p>
			<p>&bull;<span data-localize="menu_att_models_sun_show_line_field">Show line:</span><input id="opt-att-ShowSunLine" type="checkbox" style="float: right;" onchange="updateAttitudeOption(this.id,this.checked)"/></p>
			<p>&bull;<span data-localize="menu_att_models_sun_show_distance_field">Show distance:</span><input id="opt-att-ShowSunDistance" type="checkbox" style="float: right;" onchange="updateAttitudeOption(this.id,this.checked)"/></p>
			<h4 data-localize="menu_att_models_earth_title">Earth</h4>
			<p><span data-localize="menu_att_models_earth_show_model_field">Show model:</span><input id="opt-att-ShowEarthModel" type="checkbox" style="float: right;" onchange="updateAttitudeOption(this.id,this.checked)"/></p>
			<p>&bull;<span data-localize="menu_att_models_earth_show_surface_field">Show surface:</span><input id="opt-att-ShowEarthSurface" type="checkbox" style="float: right;" onchange="updateAttitudeOption(this.id,this.checked)"/></p>
			<p>&bull;<span data-localize="menu_att_models_earth_rotates_field">Earth rotates:</span><input id="opt-att-EarthRotates" type="checkbox" style="float: right;" onchange="updateAttitudeOption(this.id,this.checked)"/></p>
			<p><span data-localize="menu_att_models_earth_rotation_field">Rotation speed [0-9]:</span><input id="opt-att-EarthRotationSpeed" type="number" min="0" max="9" step="1" style="float: right;" onchange="updateAttitudeOption(this.id,this.value)"class="MenuField"/></p>
			<p>&bull;<span data-localize="menu_att_models_earth_show_line_field">Show line:</span><input id="opt-att-ShowEarthLine" type="checkbox" style="float: right;" onchange="updateAttitudeOption(this.id,this.checked)"/></p>
			<p>&bull;<span data-localize="menu_att_models_earth_show_distance_field">Show distance:</span><input id="opt-att-ShowEarthDistance" type="checkbox" style="float: right;" onchange="updateAttitudeOption(this.id,this.checked)"/></p>
		  </div>
		</div>
	</div>
	<div id="MenuButtonAttitude" class="MenuButton" onclick="switchAttitudeMenu()" ></div>
	<div id="ViewButtonAttitude" class="ViewButton" onclick="switchAttitudeViewTypeMenu()" ></div>
	<div id="AttitudeViewTypeMenu" class="ViewTypeMenu ViewTypeMenuClosed">
		<div class="ViewTypeGroup">
			<h5 class="TitleViewTypes" data-localize="views_menu_ref_title">Ref. Frame</h5>
			<div class="ViewTypeButtonWrapper"><div name="ViewTypeButtons" class="ViewTypeButton selected" id="att-view-FREE" onclick="changeAttitudeSelectedViewType('FREE')" data-localize="views_menu_ref_free_field">Free</div><div name="ViewTypeButtons" class="ViewTypeButton" id="att-view-XYZ" onclick="changeAttitudeSelectedViewType('XYZ')" data-localize="views_menu_ref_xyz_field">XYZ</div></div>
			<div class="ViewTypeButtonWrapper"><div name="ViewTypeButtons" class="ViewTypeButton" id="att-view-X" onclick="changeAttitudeSelectedViewType('X')" data-localize="views_menu_ref_x_field">X</div><div name="ViewTypeButtons" class="ViewTypeButton" id="att-view--X" onclick="changeAttitudeSelectedViewType('-X')" data-localize="views_menu_ref_xx_field">-X</div></div>
			<div class="ViewTypeButtonWrapper"><div name="ViewTypeButtons" class="ViewTypeButton" id="att-view-Y" onclick="changeAttitudeSelectedViewType('Y')" data-localize="views_menu_ref_y_field">Y</div><div name="ViewTypeButtons" class="ViewTypeButton" id="att-view--Y" onclick="changeAttitudeSelectedViewType('-Y')" data-localize="views_menu_ref_yy_field">-Y</div></div>
			<div class="ViewTypeButtonWrapper"><div name="ViewTypeButtons" class="ViewTypeButton" id="att-view-Z" onclick="changeAttitudeSelectedViewType('Z')" data-localize="views_menu_ref_z_field">Z</div><div name="ViewTypeButtons" class="ViewTypeButton" id="att-view--Z" onclick="changeAttitudeSelectedViewType('-Z')" data-localize="views_menu_ref_zz_field">-Z</div></div>
		</div>
		<div class="ViewTypeGroup">
			<h5 class="TitleViewTypes" data-localize="views_menu_spacecraft_title">Spacecraft</h5>
			<div class="ViewTypeButtonWrapper"><div name="ViewTypeButtons" class="ViewTypeButton" id="att-view-S/C-XYZ" onclick="changeAttitudeSelectedViewType('S/C-XYZ')" data-localize="views_menu_sc_xyz_field">XYZ</div></div>
			<div class="ViewTypeButtonWrapper"><div name="ViewTypeButtons" class="ViewTypeButton" id="att-view-S/C-Rear" onclick="changeAttitudeSelectedViewType('S/C-Rear')" data-localize="views_menu_sc_rear_field">Rear</div><div name="ViewTypeButtons" class="ViewTypeButton" id="att-view-S/C-Front" onclick="changeAttitudeSelectedViewType('S/C-Front')" data-localize="views_menu_sc_front_field">Front</div></div>
			<div class="ViewTypeButtonWrapper"><div name="ViewTypeButtons" class="ViewTypeButton" id="att-view-S/C-Bottom" onclick="changeAttitudeSelectedViewType('S/C-Bottom')" data-localize="views_menu_sc_bottom_field">Bottom</div><div name="ViewTypeButtons" class="ViewTypeButton" id="att-view-S/C-Top" onclick="changeAttitudeSelectedViewType('S/C-Top')" data-localize="views_menu_sc_top_field">Top</div></div>
			<div class="ViewTypeButtonWrapper"><div name="ViewTypeButtons" class="ViewTypeButton" id="att-view-S/C-Left" onclick="changeAttitudeSelectedViewType('S/C-Left')" data-localize="views_menu_sc_left_field">Left</div><div name="ViewTypeButtons" class="ViewTypeButton" id="att-view-S/C-Right" onclick="changeAttitudeSelectedViewType('S/C-Right')" data-localize="views_menu_sc_right_field">Right</div></div>
		</div>
		<div class="ViewTypeGroup">
			<h5 class="TitleViewTypes" data-localize="views_menu_bodies_title">Bodies</h5>
			<div class="ViewTypeButtonWrapper"><div name="ViewTypeButtons" class="ViewTypeButton" id="att-view-Earth" onclick="changeAttitudeSelectedViewType('Earth')" data-localize="views_menu_bodies_earth_field">Earth</div><div name="ViewTypeButtons" class="ViewTypeButton" id="att-view-Sun" onclick="changeAttitudeSelectedViewType('Sun')" data-localize="views_menu_bodies_sun_field">Sun</div></div>
		</div>
	</div>
</div>

<div id="ConfigButton" class="ConfigButton" onclick="switchGlobalMenu()" ></div>
<div id="DivInfoPanel" class="InfoPanelClosed" onclick="switchInfoPanel()">
	<div id="DivInfoPanel1" class="InfoPanelInvisible">
		<div class="InfoPanelTop" >
			<table class="EqColomTable"><tr><td>
				<table class="InfoPanelField"><tr><td>
				<span data-localize="info_panel_roll_field">Roll:</span>
				</td><td align="right" id="IpRoll">
				0.00° 
				</td></tr></table>
			</td><td>
				<table class="InfoPanelField"><tr><td>
				<span data-localize="info_panel_pitch_field">Pitch:</span>
				</td><td align="right" id="IpPitch">
				0.00° 
				</td></tr></table>
			</td><td>
				<table class="InfoPanelField"><tr><td>
				<span data-localize="info_panel_yaw_field">Yaw:</span>
				</td><td align="right" id="IpYaw">
				0.00° 
				</td></tr></table>
			</td></tr></table>
		</div>
		<div class="InfoPanelBottom" >
			<table class="EqColomTable"><tr><td>
				<table class="InfoPanelField"><tr><td style="padding-left:5px">
				<span data-localize="info_panel_mass_field">Mass:</span>
				</td><td align="right" style="padding-right:5px" id="IpMass">
				0.00 Kg 
				</td></tr></table>
			</td></tr></table>
		</div>
	</div>
	<div id="DivInfoPanel2" class="InfoPanelInvisible">
		<div class="InfoPanelTop" >
			<table class="EqColomTable"><tr><td>
				<table class="InfoPanelField"><tr><td>
				<span data-localize="info_panel_vel_field">Vel.:</span>
				</td><td align="right" id="IpVel">
				0.00 Km/s 
				</td></tr></table>
			</td><td>
				<table class="InfoPanelField"><tr><td>
				<span data-localize="info_panel_accel_field">Accel.:</span>
				</td><td align="right" id="IpAccel">
				0.00 Km/m2 
				</td></tr></table>
			</td></tr></table>
		</div>
		<div class="InfoPanelBottom" >
			<table class="EqColomTable"><tr><td>
				<table class="InfoPanelField"><tr><td style="padding-left:5px">
				<span data-localize="info_panel_radius_field">Orb. radius:</span>
				</td><td align="right" style="padding-right:5px" id="IpRadius">
				0.00 Km
				</td></tr></table>
			</td></tr></table>
		</div>
	</div>
</div>

<div id="DivMissions">
	<input id="MissionsListClose" class="" type="image" src="style/icons/close.png" title="Close mission list" onclick="switchMissionsListStatus()"/>
	<h3 id="TitleMissions" data-localize="missions_title">Missions</h3>	
	<div id="ListMissions">
		<ol id="olListMissions">
		</ol>
	</div>
	<div id="MissionsMenu">
		<div class="MissionsMenuItem" onclick="onSelectMissionButtonClicked()" style="cursor: pointer;"><div id="SelectMissionButton" class="MissionsMenuButton"  title="Select Mission"></div></div>
		<div class="MissionsMenuItem" onclick="openMissionEditor(-1)" style="cursor: pointer;"><input id="CreateMissionButton" class="MissionsMenuButton" type="image" src="style/icons/new.png" title="Create Mission"/></div>
		<div class="MissionsMenuItem" onclick="onCopyMissionButtonClicked()" style="cursor: pointer;"><input id="CopyMissionButton" class="MissionsMenuButton" type="image" src="style/icons/copy.png" title="Copy Mission"/></div>
		<div class="MissionsMenuItem" onclick="openMissionEditor(global_missions.active)" style="cursor: pointer;"><input id="EditMissionButton" class="MissionsMenuButton" type="image" src="style/icons/edit.png" title="Edit Mission"/></div>
		<div class="MissionsMenuItem" onclick="onDeleteMissionButtonClicked()" style="cursor: pointer;"><input id="RemoveMissionButton" class="MissionsMenuButton" type="image" src="style/icons/delete.png" title="Remove Mission"/></div>
	</div>
</div>

<div id="MissionEditorBackground">
	<div id="MissionEditor">
		<div id="MissionCloseButton" onclick="closeMissionEditor()"></div>
		<div id="MissionConfirmButton" onclick="saveMissionEditor()"></div>
			<h3 id="mis-TitleCreate" data-localize="mission_editor_create_title">Create Mission</h3>
			<h3 id="mis-TitleEdit" data-localize="mission_editor_edit_title">Edit Mission</h3>
		<div id="MissionEditorContent">
			<input id="mis-Id" type="hidden"/>
			<p><span data-localize="mission_editor_name_field">Name:</span><input id="mis-Name" type="text" style="float: right;" class="MissionField"/></p>
			<p><span data-localize="mission_editor_description_field">Desription:</span><input id="mis-Description" type="text" style="float: right;" class="MissionField"/></p>
			<p><span data-localize="mission_editor_mass_field">Initial mass (Kg):</span><input id="mis-Mass" type="number" min="0" style="float: right;" class="MissionField"/></p>
			<h4 data-localize="mission_editor_simulation_title">Simulation</h4>
			<!-- Date picker -->
			<p><span data-localize="mission_editor_date_field">Date:</span><input id="mis-Date" class="datepicker" style="float: right;" class="MissionField"/></p>
			<p><span data-localize="mission_editor_time_field">Time:</span><input id="mis-Time" class="timepicker" style="float: right;" class="MissionField"/></p>
			<p><span data-localize="mission_editor_duration_field">Duration (s):</span><input id="mis-Duration" type="number" min="0" style="float: right;" class="MissionField"/></p>
			<p><span data-localize="mission_editor_speed_field">Speed (s'/s):</span><input id="mis-Speed" type="number" min="0" style="float: right;" class="MissionField"/></p>
			<h4 data-localize="mission_editor_attitude_title">Attitude</h4>
			<p><span data-localize="mission_editor_attitude_field">Attitude control:</span><select id="mis-AttitudeProvider" style="float: right;" class="MissionField">
				<option data-localize="mission_editor_attitude_field_value1" value="0">Inertial</option>
				<option data-localize="mission_editor_attitude_field_value2" value="1">Facing Earth</option>
				<option data-localize="mission_editor_attitude_field_value3" value="2">Facing Sun</option>
			</select></p>
			<h4 data-localize="mission_editor_orbit_title">Orbit</h4>
			<p><span data-localize="mission_editor_orbit_a_field">Semi-major axis (m):</span><input id="mis-a" type="number" min="0" step="any" style="float: right;" class="MissionField"/></p>
			<p><span data-localize="mission_editor_orbit_e_field">Eccentricity:</span><input id="mis-e" type="number" min="0" step="any" style="float: right;" class="MissionField"/></p>
			<p><span data-localize="mission_editor_orbit_i_field" id="MissionEditor-Inclination">Inclination (rad):</span><input id="mis-i" type="number" step="any" style="float: right;" class="MissionField"/></p>
			<p><span data-localize="mission_editor_orbit_omega_field" id="MissionEditor-Omega">Arg. Perigee (rad):</span><input id="mis-omega" type="number" step="any" style="float: right;" class="MissionField"/></p>
			<p><span data-localize="mission_editor_orbit_raan_field" id="MissionEditor-Raan">RAAN (rad):</span><input id="mis-raan" type="number" step="any" style="float: right;" class="MissionField"/></p>
			<p><span data-localize="mission_editor_orbit_lm_field" id="MissionEditor-lM">Mean anomaly (rad):</span><input id="mis-lm" type="number" step="any" style="float: right;" class="MissionField"/></p>
		</div>
		<div id="AngleUnitsSelectionRads" class="AngleUnitsSelected" onclick="setAngleUnitsRads(true)">Rads</div><div id="AngleUnitsSelectionDegs" class="AngleUnitsUnselected" onclick="setAngleUnitsRads(false)">Degs</div>
	</div>
</div>

<div id="StationEditorBackground">
	<div id="StationEditor">
		<div id="StationCloseButton" onclick="closeStationEditor()"></div>
		<div id="StationConfirmButton" onclick="saveStationEditor()"></div>
			<h3 id="sta-TitleCreate" data-localize="station_editor_create_title">Create Station</h3>
			<h3 id="sta-TitleEdit" data-localize="station_editor_edit_title">Edit Station</h3>
		<div id="StationEditorContent">
			<input id="sta-Id" type="hidden"/>
			<p><span data-localize="station_editor_name_field">Name:</span><input id="sta-Name" type="text" style="float: right;" class="StationField"/></p>
			<p><span data-localize="station_editor_latitude_field" id="StationEditor-Latitude">Latitude (deg):</span><input id="sta-latitude" type="number" min="-90" max="90" step="any" style="float: right;" class="StationField"/></p>
			<p><span data-localize="station_editor_longitude_field" id="StationEditor-Longitude">Longitude (deg):</span><input id="sta-longitude" type="number" min="-180" max="180" step="any" style="float: right;" class="StationField"/></p>
			<p><span data-localize="station_editor_altitude_field">Altitude (m):</span><input id="sta-altitude" type="number" step="any" style="float: right;" class="StationField"/></p>
			<p><span data-localize="station_editor_elevation_field" id="StationEditor-Elevation">Min. elevation (deg):</span><input id="sta-elevation" type="number" max="90" min="-10" step="any" style="float: right;" class="StationField"/></p>
		</div>
		<div id="AngleUnitsSelectionRadsStation" class="AngleUnitsSelected" onclick="setAngleUnitsRads(true)">Rads</div><div id="AngleUnitsSelectionDegsStation" class="AngleUnitsUnselected" onclick="setAngleUnitsRads(false)">Degs</div>
	</div>
</div>

<div id="SlidePrev" onclick="prevVisualization()" ></div>
<div id="SlideNext" onclick="nextVisualization()" ></div>

<div id="DivConfigBackground">
	<div id="DivConfig">
		<div id="ConfigCloseButton" onclick="switchGlobalMenu()"></div>
		<h3 data-localize="global_config_title">Configuration</h3>
		<p><span data-localize="global_config_performances_field">3D Detail level [1-9]:</span><input id="opt-glo-PerformanceLevel" type="number" min="1" max="9" step="1" style="float: right;" onchange="updateGlobalOption(this.id,this.value)"class="MenuField"/></p>
		<p><span data-localize="global_config_fps_field">Show FPS:</span><input id="opt-glo-ShowFps" type="checkbox" style="float: right;" onchange="updateGlobalOption(this.id,this.checked)"/></p>
		<p><input id="ResetConfigButton" value="Reset all configuration" type="button" onclick="resetConfiguration()" class="stavorDarkButton"/></p>
		<p><input id="ResetMissionsButton" value="Reset missions database" type="button" onclick="resetMissionsDb()" class="stavorDarkButton"/></p>
		<p><input id="ResetStationsButton" value="Reset stations database" type="button" onclick="resetStationsDb()" class="stavorDarkButton"/></p>
	</div>
</div>

<div id="DivDialogBackground">
	<div id="DivDialog">
		<div id="DialogCloseButton" onclick=""></div>
		<div id="DialogCancelButton" onclick=""></div>
		<div id="DialogConfirmButton" onclick=""></div>
		<h4 id="DivDialogTitle" >Stavor says</h4>
		<p id="DivDialogText" >Question ?</p>
	</div>
</div>
	
<div id="DivToolbar" >
	
	<div id="PlayButton" class="SimControl SimPlayDisabled"  title="Play/Pause simulator" onclick="global_simulator.playButtonClicked()"></div>
	<div id="StopButton" class="SimControl SimStopDisabled"  title="Stop simulator" onclick="global_simulator.stopButtonClicked()"></div>
	
	<input id="TimeBar" class="SimRangeDisabled" type="range" min="0" max="100" value="0"  title="Simulation time" disabled="true"/><!--disabled="true"-->
	
	<!--<input id="AccelButton" class="SimControlLeft" type="image" src="style/icons/accelerate.png" title="Accelerate simulation" onclick="global_simulator.accelerateButtonClicked()"/>
	<input id="SlowButton" class="SimControlRight" type="image" src="style/icons/slow.png" title="Slow down simulation" onclick="global_simulator.slowButtonClicked()"/>-->
	<div id="AccelButton" class="SimControlLeft disabled" title="Accelerate simulation" onclick="global_simulator.accelerateButtonClicked()"></div>
	<div id="SlowButton" class="SimControlRight disabled" title="Slow down simulation" onclick="global_simulator.slowButtonClicked()"></div> 
	
	<div id="ReverseButton" class="SimControlLeft disabled"  title="Reverse simulation" onclick="global_simulator.reverseButtonClicked()"></div>
	<div id="ForwardButton" class="SimControlRight active disabled" title="Forward simulation" onclick="global_simulator.forwardButtonClicked()"></div>
</div>
<div id="DivClock" >
	<!--<input id="MissionsListButton" class="" type="image" src="style/icons/list.png" title="Mission list" onclick="switchMissionsListStatus()"/><span id="SimTime">0000-00-00 00:00:00.000</span>-->
	<span id="SimTime">0000-00-00 00:00:00.000</span>
</div>
<div  id="MissionsListButton" class="" title="Mission list" onclick="switchMissionsListStatus()"></div>
<div id="LedMap" class="Led LedUnselected" />
<div id="LedOrbit" class="Led LedUnselected"/>
<div id="LedAttitude" class="Led LedUnselected"/>

<div id="str_mission_list_button_select" data-localize="mission_list_button_select" class="LocalizedString" >Select Mission</div>
<div id="str_mission_list_button_create" data-localize="mission_list_button_create" class="LocalizedString" >Create Mission</div>
<div id="str_mission_list_button_copy" data-localize="mission_list_button_copy" class="LocalizedString" >Copy Mission</div>
<div id="str_mission_list_button_edit" data-localize="mission_list_button_edit" class="LocalizedString" >Edit Mission</div>
<div id="str_mission_list_button_remove" data-localize="mission_list_button_remove" class="LocalizedString" >Remove Mission</div>
<div id="str_station_list_button_create" data-localize="station_list_button_create" class="LocalizedString" >Create Station</div>
<div id="str_station_list_button_edit" data-localize="station_list_button_edit" class="LocalizedString" >Edit Station</div>
<div id="str_station_list_button_remove" data-localize="station_list_button_remove" class="LocalizedString" >Remove Station</div>
<div id="str_global_config_reset_config_button" data-localize="global_config_reset_config_button" class="LocalizedString" >Reset all configuration</div>
<div id="str_global_config_reset_missions_button" data-localize="global_config_reset_missions_button" class="LocalizedString" >Reset missions database</div>
<div id="str_global_config_reset_stations_button" data-localize="global_config_reset_stations_button" class="LocalizedString" >Reset stations database</div>
<div id="str_dialog_reset_config_title" data-localize="dialog_reset_config_title" class="LocalizedString" >Stavor says</div>
<div id="str_dialog_reset_config_message" data-localize="dialog_reset_config_message" class="LocalizedString" >Are you sure?</div>
<div id="str_dialog_sensor_direction_title" data-localize="dialog_sensor_direction_title" class="LocalizedString" >Stavor says</div>
<div id="str_dialog_reset_config_title" data-localize="dialog_sensor_direction_message" class="LocalizedString" >Sensor direction cannot be (0,0,0)</div>
<div id="str_dialog_sensor_direction_message" data-localize="dialog_reset_missions_db_title" class="LocalizedString" >Stavor says</div>
<div id="str_dialog_reset_missions_db_message" data-localize="dialog_reset_missions_db_message" class="LocalizedString" >Reset missions list to default value?</div>
<div id="str_dialog_reset_stations_db_title" data-localize="dialog_reset_stations_db_title" class="LocalizedString" >Stavor says</div>
<div id="str_dialog_reset_stations_db_message" data-localize="dialog_reset_stations_db_message" class="LocalizedString" >Reset stations list to default value?</div>
<div id="str_dialog_restart_simulator_title" data-localize="dialog_restart_simulator_title" class="LocalizedString" >Stavor says</div>
<div id="str_dialog_restart_simulator_message" data-localize="dialog_restart_simulator_message" class="LocalizedString" >Do you want to restart the simulator?</div>
<div id="str_dialog_select_mission_first_title" data-localize="dialog_select_mission_first_title" class="LocalizedString" >Stavor says</div>
<div id="str_dialog_select_mission_first_message" data-localize="dialog_select_mission_first_message" class="LocalizedString" >Select a mission first!</div>
<div id="str_dialog_click_mission_first_title" data-localize="dialog_click_mission_first_title" class="LocalizedString" >Stavor says</div>
<div id="str_dialog_click_mission_first_message" data-localize="dialog_click_mission_first_message" class="LocalizedString" >Click on a mission first!</div>
<div id="str_dialog_cannot_delete_mission_title" data-localize="dialog_cannot_delete_mission_title" class="LocalizedString" >Stavor says</div>
<div id="str_dialog_cannot_delete_mission_message" data-localize="dialog_cannot_delete_mission_message" class="LocalizedString" >The mission selected for simulation cannot be deleted, please select another mission first!</div>
<div id="str_dialog_confirm_delete_mission_title" data-localize="dialog_confirm_delete_mission_title" class="LocalizedString" >Stavor says</div>
<div id="str_dialog_confirm_delete_mission_message_1" data-localize="dialog_confirm_delete_mission_message_1" class="LocalizedString" >Delete mission </div>
<div id="str_dialog_confirm_delete_mission_message_2" data-localize="dialog_confirm_delete_mission_message_2" class="LocalizedString" >?</div>
<div id="str_dialog_confirm_select_mission_title" data-localize="dialog_confirm_select_mission_title" class="LocalizedString" >Stavor says</div>
<div id="str_dialog_confirm_select_mission_message_1" data-localize="dialog_confirm_select_mission_message_1" class="LocalizedString" >Select mission </div>
<div id="str_dialog_confirm_select_mission_message_2" data-localize="dialog_confirm_select_mission_message_2" class="LocalizedString" > for simulation?</div>
<div id="str_dialog_confirm_copy_mission_title" data-localize="dialog_confirm_copy_mission_title" class="LocalizedString" >Stavor says</div>
<div id="str_dialog_confirm_copy_mission_message_1" data-localize="dialog_confirm_copy_mission_message_1" class="LocalizedString" >Copy mission </div>
<div id="str_dialog_confirm_copy_mission_message_2" data-localize="dialog_confirm_copy_mission_message_2" class="LocalizedString" >?</div>
<div id="str_dialog_click_station_first_title" data-localize="dialog_click_station_first_title" class="LocalizedString" >Stavor says</div>
<div id="str_dialog_click_station_first_message" data-localize="dialog_click_station_first_message" class="LocalizedString" >Click on a station first!</div>
<div id="str_dialog_confirm_delete_station_title" data-localize="dialog_confirm_delete_station_title" class="LocalizedString" >Stavor says</div>
<div id="str_dialog_confirm_delete_station_message_1" data-localize="dialog_confirm_delete_station_message_1" class="LocalizedString" >Delete station </div>
<div id="str_dialog_confirm_delete_station_message_2" data-localize="dialog_confirm_delete_station_message_2" class="LocalizedString" >?</div>

<!-- Modules -->
	<!-- Attitude -->
	<script type='text/javascript' src="modules/attitude/attitude.js"></script>
	<!-- Orbit -->
	<script type='text/javascript' src="modules/orbit/orbit.js"></script>
	<!-- Map -->
	<script type='text/javascript' src="modules/map/map.js"></script>
	

<!-- PickDate -->
	<script type="text/javascript" src="js/PickDate/picker.js"></script>
	<script type="text/javascript" src="js/PickDate/picker.date.js"></script>
	<script type="text/javascript" src="js/PickDate/picker.time.js"></script>
	<link rel="stylesheet" href="js/PickDate/themes/default.css"/>
	<link rel="stylesheet" href="js/PickDate/themes/default.date.css"/>
	<link rel="stylesheet" href="js/PickDate/themes/default.time.css"/>
</body>
</html>
